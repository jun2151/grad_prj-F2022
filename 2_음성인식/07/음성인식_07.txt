
1. 지하철 안내방송을 소음제거하여 음성인식 STT에 인식을 시도하였으나 
   인식을 못하게 되었습니다.
   그래서 지하철 안내방송 원음을 사용하는 대신 안내방송 음성데이터를 
   파이선 음성인식 서버에서 수신하여 도착역을 표시하는 구조로 변경하여 
   졸업작품을 작업하게 되었습니다 
   
2. google cloud speech api를 음성인식 기능으로 사용하고 
   음성인식한 지하철 정보는 웹서버를 통하여 브라우저에 표시하는 방법을로 
   졸업작품을 진행하게 되었습니다 

3. 기능 구현에 필요한 관련 자료 조사
- 안내방송 데이터를 네트워크를 통하여 송신하고 수신하기 위하여 
  파이썬 소켓 클라이언트/서버 관련 조사 

. Running a python threaded TCP server in the background forever
  https://stackoverflow.com/questions/43374103/running-a-python-threaded-tcp-server-in-the-background-forever  
. Python Socket Programming - Server, Client Example
  https://www.digitalocean.com/community/tutorials/python-socket-programming-server-client
. 파이썬 소켓 사용법
  https://itholic.github.io/python-socket/

- 파이썬 binary file write 방법 조사 
. python write Bytes to File
  https://www.geeksforgeeks.org/python-write-bytes-to-file/
  
- 파이썬 웹서버 관련 조사 
. python Websocket 사용 방법
  https://nowonbun.tistory.com/674
. How to Implement a WebSocket in Python
  https://linuxhint.com/how-to-implement-a-websocket-in-python/
. Creating a simple WebSocket with Python
  https://morioh.com/p/9f0b456f99eb
. WebSocket: How to automatically reconnect after it dies
  https://stackoverflow.com/questions/22431751/websocket-how-to-automatically-reconnect-after-it-dies

- 파이썬 정규식 관련 조사 
. python re 모듈 사용법
  https://brownbears.tistory.com/506
. 정규식 특정 문자열 사이 문자열 추출하기
  https://data-make.tistory.com/706 


4. 구현코드 
- VoiceRecogServer.py
. 지하철 안내방송 시스템으로부터 안내방송 파일수신 
. 수신한 파일을 입력으로 google cloud speech api 호출 
. 음성인식한 결과 text를 분석하여 다음역명을 추출하여 파일에 저장 
. 실행명령어 
  > python VoiceRecogServer.py

- WavFileSend.py
. 지하철 안내방송 시스템에서 안내방송 파일을 VoiceRecogServer.py로 전송  
. 실행명령 
  > python WavFileSend.py ip 음성파일
    ex) python WavFileSend.py 127.0.0.1 성균관대.wav

- WebSocketServer.py
. python flask 기반의 web socket server를 시행한다 
. 지하철 도착역 정보를 파일에서 주기적으로 읽어서 접속하 브라우저에 전송하다 
. 추가 패키지 인스톨 
  > pip install flask 
  > pip install flask_sock
. 실행명령어 
  > python WebSocketServer.py
. 브라우저 접속 url 
  http://localhost:5000/
  
- templates/index.html
. 웹서버에서 수신된 지하철역정보를 화면에 표시한다 




